name: CI Maven Project

on: 
 workflow_dispatch:
  inputs: 
   TARGET_ENVIRONMENT:
    type: environment
    default: dev

jobs:
 CI_Non-containerization_build:
  runs-on: ubuntu-latest
  environment: ${{inputs.TARGET_ENVIRONMENT}}
  steps:
    - name: Checkout
      uses: actions/checkout@v4.2.2
    - name: Setup Java JDK
      uses: actions/setup-java@v3.14.1
      with:
       java-version: 17
       distribution: microsoft
    - name: Build using Maven
      run: mvn --batch-mode --update-snapshots verify
    - run: mkdir staging && cp target/*.jar staging
    - name: Upload a Build Artifact
      uses: actions/upload-artifact@v4.6.2
      with:
       name: Package
       path: staging
    - run: echo 'vars is ${{vars.variable}}'
 test:
  runs-on: windows-latest
  steps:
    - name: Print test - chrome
      run: echo 'test chrome'
    - name: Print test - edge
      run: echo 'test edge'
  
 deploy:
    runs-on: ubuntu-latest
    steps: 
      - name: Print deploy
        run: echo 'deploy'

